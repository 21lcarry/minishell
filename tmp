
NAME	=	minishell

CC		=	clang

CFLAGS	=	-Werror -Wall -Wextra -I. -I include -I libftprintf -I readline

LIBS	=	-L readline -L libftprintf -l readline -l termcap

SOURCES	=	main.c

INCLUDES = includes/minishell.h

all: $(NAME)

$(NAME): readline/Makefile $(SOURCES) $(INCLUDES)
	$(MAKE) -C printf all
	$(MAKE) -C readline all
	$(CC) -o $(NAME) $(CFLAGS) $(SOURCES) $(LIBS)

fclean: clean
	-$(MAKE) -C printf fclean
	-$(MAKE) -C readline fclean
	@rm -f $(NAME)

clean:
	-$(MAKE) -C printf clean
	-$(MAKE) -C readline clean

re: fclean all

readline/Makefile:
	cd readline; sh ./configure; cd ..;

.PHONY:     all clean fclean re